# 3DCV

### 参考
+ かみのメモ https://kamino.hatenablog.com/archive
+ 実践コンピュータビジョン 

### 座標系設定
1. 左手座標系と右手座標系  
2. Zup, Yup  
3. Xforward, Yforward, Zforward
4. クロス積の結果 (数式は同じだが, 座標系設定で定義が異なる.)

### 3D 基本モジュール
1. 回転行列(3x3)
2. 回転ベクトル(3x1)
3. クォータニオン(4x1)
4. オイラー角(Θ1, Θ2, Θ3)
5. 座標系のPose行列M=(R'|t') (4x4)
6. フレーム変換(定義) M_new_frame = AddFrame(M_frame, M_plus)
7. 座標変換 T_new_coordinate = Transform(T_coordinate, T_plus) 
8. フレーム変換 <-> 座標変換 T = (R|t) = (R=R'^T|t=-R'^T*t') : M = (R'|t')
9. 回転行列(3x3) <-> 回転ベクトル(3x1)
10. 回転行列(3x3) <-> クォータニオン(4x1)
11. 回転行列(3x3) <-> オイラー角(Θ1, Θ2, Θ3)
12. クォータニオン(4x1) <-> 回転行列(3x1)

### カメラモジュール
1. カメラのView行列(外部キャリブレーション行列)V=(R|t) (4x4)
2. LookAtによるカメラのView行列の作成
3. View行列からカメラ座標のPoseを取得
4. 正規化座標系\[-1,+1\] NCS x = X/Z, y = Y/Z. m = (V @ X)/Z : M=\[X,Y,Z,W\], x=\[x,y,w\]
5. 内部キャリブレーション行列K (3x3)
6. カメラ行列P = KV =  K(R|t) (3x4)
7. リフレクション(PnP: 3D-2D)
8. カメラ行列Pの分解(RQ) P=  K(R|t) -> (KR|Kt) = (P\[:3,:3]|P\[3,:3\])

### 3D 多視点幾何モジュール
1. ホモグラフィ行列H(3x3), (4x4)
2. アフィン行列(3x3), (4x4)
3. ホモグラフィ&アフィン(H: 2D-2D)
4. 基礎行列F (3x3) rank(F) = 2
5. 基本行列E (3x3) rank(E) = 2, 0でない2つの特異値は等しい
6. 基本行列Eの分解 E = \[t|x\] @ 1_R_2
7. エピポーラ線l, エピ極e
8. 三角測量 





